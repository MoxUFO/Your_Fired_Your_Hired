//  name: 'managers',
//         value: 'getAllManagers'

// function getAllManagers() {
//     const sql = `SELECT * FROM Employees WHERE manager_id IS NULL AND first_name = 'Ashley' AND last_name = 'Rodriguez';`;
//     db.query(sql, (err, result) => {
//       console.table(result)

//     });
// }

// function showEmployees() {
//     const sql = `SELECT e.id, e.first_name, e.last_name, e.manager_id, r.title, d.dep_name FROM employees e JOIN Roles r ON e.role_id = r.id  JOIN Departments d ON r.department_id = d.id; `;
//     db.query(sql, (err, results) => {
//       // console.log(results);
//       console.table(results)
//       if (err) {
//         res.status(500).json({ error: err.message });
//          return;
//       }
//     });
//   //   menu()
//   }

UPDATE employees
SET manager_id = id
WHERE manager_id IS NULL AND first_name = 'Ashley' AND last_name = 'Rodriguez' ;

const ManagerId = ` SELECT id FROM Employees WHERE manager_id IS NULL AND first_name = 'Ashley' AND last_name = 'Rodriguez';`;
db.query(ManagerId, (err, result) => {
  let useableId = result[0].id
 
});

const sql = `INSERT INTO Employees (first_name,last_name,role_id,manager_id)
VALUES ('${firstName}', '${lastName}',null,${useableId}),`
db.query(sql, (err, result) => {
  console.log(result);
});

function getManagerId() {
    const ManagerId = ` SELECT id FROM Employees WHERE manager_id IS NULL AND first_name = 'Ashley' AND last_name = 'Rodriguez';`;
    db.query(ManagerId, (err, result) => {
      let useableId = result[0].id
      // console.log(useableId);
      const sql = `INSERT INTO Employees (first_name,last_name,role_id,manager_id)
      VALUES ('nel', 'tel',1,${useableId});`;
      db.query(sql, (err, result) => {
       console.log(result);
       
      });
      
    });
  
  }
  getManagerId();

  async function updateRole() {
    const personAnswers = []
    const personQuery = `SELECT * FROM Employees`
      db.query(personQuery, (err, results) => {
        for (let i = 0; i < results.length; i++) {
         answers.push(results[i].first_name)
        }
      });
      const answers = []
      const roleQuery = `SELECT * FROM Roles`
        db.query(roleQuery, (err, results) => {
          for (let i = 0; i < results.length; i++) {
           answers.push(results[i].title)
          }
        });
      // console.log(answers);
    const {depName} = await inquirer.prompt([
      {
        type: "list",
        name: "employee",
        message: "Which employee's role will be updated?",
        choices: personAnswers
      },
      {
        type: "list",
        name: "newRole",
        message: "what is the employee's New role?",
        choices: answers ,
      },
    ])
  }

  SET SQL_SAFE_UPDATES = 0;
UPDATE Employees
SET role_id = 2
WHERE first_name = 'wesrt' AND last_name = 'food';
SET SQL_SAFE_UPDATES = 1;



const deptAnswers = []
const query = `SELECT department_name FROM department`
let deptList = await db.promise().query(query);
console.log(depList);
  // for (let i = 0; i < employeeList[0].length; i++) {
  //  personAnswers.push(employeeList[0][i].first_name + " " + employeeList[0][i].last_name)
  // }

  
  